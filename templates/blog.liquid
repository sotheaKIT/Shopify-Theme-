<!-- /templates/blog.liquid -->
{% assign current_url = '' %}

{% case template %}
{% when 'page' %}
{% assign current_url = page.url %}
{% when 'blog' %}
{% assign current_url = blog.url %}
{% when 'article' %}
{% assign current_url = blog.url %}
{% when 'collection' %}
{% assign current_url = collection.url %}
{% when 'product' %}
{% assign current_url = product.url %}
{% endcase %}

{% if current_url contains '/blogs/blog' %} 
 {% assign is_blog = true %}
	
{% endif %}
	{% if is_blog %}
		<style>
          body, input, textarea, button, select{
          font-family: 'Kiwi Maru', serif;
          }
          h1, .h1, h2, .h2, h3, .h3, h4, .h4, h5, .h5, h6, .h6 {
            font-family: shueip,"Hiragino Kaku Gothic ProN","ヒラギノ角ゴ ProN W3",YuGothic,"Yu Gothic",sans-serif;
          }
          h1, .h1 {
            font-family: 'Dancing Script', cursive, 'Yu Mincho Light','YuMincho','Yu Mincho','游明朝体',sans-serif;
            font-size: 36px;
          }
          .icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            vertical-align: middle;
            fill: currentColor;
          }
          .icon-search {
            cursor: pointer;
        }
          .pagination {
            display: none;
        }
          html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
            margin: 0;
            padding: 0;
            border: 0;
            font-style: normal;
            font-weight: normal;
            vertical-align: baseline;
        }
          .grid__item.large--six-tenths.push--large--one-tenth {
            padding-bottom: 30px;
        }
          @media screen and (min-width: 591px){
          .section-header {
            margin-bottom: 0px;
        }}
          .date {
            font-style: italic;
            display: inline-block;
            font-size: .75rem;
            font-weight: 600;
            line-height: 18px;
            letter-spacing: 0;
            color: rgba(0,0,0,.4);
        }
          .article__featured-image {
            display: block;
            margin: 0 auto;
            bottom: 0;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 1.875rem;
        }
          
	@media only screen and (min-width: 768px){
          
      .blog-content-wrapper {
        max-width: 1120px;
        margin-left: auto;
        margin-right: auto;
        padding-top: 16px;
    }
      .blog-main-wrapper {
        float: left;
        width: 70%;
        padding-bottom: 0;
    }
      .blog-sidebar-wrapper {
        float: right;
        width: 30%;
    }
      
      
    }
          
      .gridblog-container {
        display: flex;
        flex-flow: wrap;
        justify-content: space-between;
    }    
      .new-search-bar {
         margin-bottom: 10px;
         position: relative;
         width: 100%;
         margin-bottom: 1.875rem;
    }
      .input-group {
          display: flex;
    }
	  .menu {
        position: relative;
        width: 100%;
        margin: 0 auto;
        width: 100%;
        margin-bottom: .9375rem;
    }
      .menu_header.open {
        border-radius: 10px;
        text-decoration: none;
        cursor: pointer;
        position: relative;
        display: block;
        width: 100%;
        border: 1px solid #e5e5e5;
    }
      .menu_header {
        font-family: shueip,"Hiragino Kaku Gothic ProN","ヒラギノ角ゴ ProN W3",YuGothic,"Yu Gothic",sans-serif;
        display: flex;
        align-items: center;
        width: 100%;
        min-height: 1.5rem;
        margin: 0 auto .21875rem;
        box-sizing: border-box;
        font-size: 18px;
        font-weight: 600;
        line-height: 1;
        color: rgba(0,0,0,.87);
    }     
    
      .content_header:before {
        content: "";
        display: block;
        width: .4375rem;
        height: 1.5rem;
        margin-right: .75rem;
        border-radius: .3125rem;
        background-color: #ffcd00;
    }

    *, :after, :before, input {
        box-sizing: border-box;
    }
      .menu.open .menu_header.open {
    display: none;
}
      .menu_header.open span {
    display: block;
    padding: 13px 30px 9px 11px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
}
      .menu.open .menu-content-wrapper ul {
    max-height: unset;
    overflow-y: auto;
    opacity: 1;
    position: relative;
}
      .menu-content-wrapper ul {
    z-index: 1;
    overflow: hidden;
    position: absolute;
    left: 0;
    right: 0;
    width: 100%;
    border-radius: 10px;
    max-height: 0;
    opacity: 0;
    transition: opacity 250ms,max-height 250ms;
    list-style: none;
    background: #fff;
    box-shadow: 0 0 20px 0 rgb(0 0 0 / 10%), 0 20px 20px 0 rgb(0 0 0 / 15%);
}
     .menu .item-icon {
    margin: 0 18px 0 0;
    width: 24px;
    height: 24px;
    float: left;
    overflow: hidden;
    position: relative;
    display: flex;
    align-items: center;
}
     .menu-content-wrapper li a.menu_header {
    padding: 14px 12px;
    margin: 0 auto 7px;
}
    .menu-content-wrapper li a {
    display: block;
    padding: 11.3px 12px;
    text-decoration: none;
    cursor: pointer;
    transition: background-color 250ms,color 250ms;
}
     dd.menu-content-wrapper {
    margin-left: 0;
}
     .menu-content-wrapper ul {
    margin: 0;
}
     .new-search-bar .new-search-bar__text-field {
    font-size: 13px;
    font-weight: 600;
    line-height: 20px;
    color: rgba(0,0,0,.87);
    letter-spacing: 0;
    width: 100%;
    padding: 13px 30px 13px 15px;
    border: none;
    border-radius: 10px;
    background-color: #f5f5f5;
}
     .new-search-bar .new-search-bar__icon {
    color: #000;
    position: absolute;
    top: 40%;
    right: 13px;
    transform: translateY(-50%);
}
          
		  .side-bar-title:before {
            content: "";
            display: block;
            width: .4375rem;
            height: 1.5rem;
            margin-right: .75rem;
            border-radius: .3125rem;
            background-color: #ffcd00;
            float: left;
          }
           ol, ul {
            list-style: none;
         }
          .blog-category-list .item-content{
    		padding: .7rem 0;
		 }
          
          .blog-category-list .item-icon {
            margin: 0 16px 0 0;
            width: 26px;
            height: 26px;
            float: left;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
         }
          .c-blog-list .c-blog-list__ttl {
            font-size: .8125rem;
            line-height: 20px;
            letter-spacing: 0;
            color: #000;
            margin-bottom: 2px;
        }
         
          .new-search-bar {
            margin-bottom: 10px;
            position: relative;
            width: 100%;
            margin-bottom: 1.875rem;
        }
          
          .c-sp_only {
            display: none!important;
         }
          @media screen and (max-width: 768px){
          .blog-main-wrapper {
            width: 100%;
            max-width: 100%;
            padding-bottom: 40px;
          }}
          .blog-post-flex-container {
            display: flex;
            flex-flow: wrap;
            justify-content: space-between;
          }
          .grid__item.large--five-sixths.push--large--one-twelfth {
            display: flex;
            flex-flow: wrap;
            justify-content: space-around;
        }
            article.article.grid.small--text-center.first {
            width: 100%;
        }
            article.article.grid.small--text-center {
            width: 45%;
        }
            .hr--large, .hr--medium, .hr--small, hr {
            border-width: 1px 0 0 0;
            width: 0px
        }
          
       		       		 
			@media screen and (min-width: 591px)
            .grid__item {
                padding-left: 0px;
            } 
          
          @media screen and (max-width: 768px){
          .c-sp_only {
            display: block!important;
          }
          .c-pc_only {
            display: none!important;
         }
          .new-search-bar {
            margin-bottom: 1.25rem;
        }
          } 
          
     
          .menu_header {
            font-family: shueip,"Hiragino Kaku Gothic ProN","ヒラギノ角ゴ ProN W3",YuGothic,"Yu Gothic",sans-serif;
            display: flex;
            align-items: center;
            width: 100%;
            min-height: 1.5rem;
            margin: 0 auto .21875rem;
            box-sizing: border-box;
            font-size: 18px;
            font-weight: 600;
            line-height: 1;
            color: rgba(0,0,0,.87);
         }
          .menu_header.open:after {
            content: "";
            position: absolute;
            right: 22px;
            top: 17px;
            border: solid #000;
            border-width: 0 3px 3px 0;
            display: inline-block;
            padding: 3px;
            transform: rotate(45deg) translateY(-50%);
            -webkit-transform: rotate(45deg) translateY(-50%);
         }
          
          dl {
            display: block;
            margin-block-start: 1em;
            margin-block-end: 1em;
            margin-inline-start: 0px;
            margin-inline-end: 0px;
         }
          
      </style>
	{% endif %} 
<div class="page-width page-content {% if is_blog %}blog-content-wrapper{% endif %}">
{% if is_blog %}
  <div class="blog-main-wrapper">
    <div class="c-sp_only">
      <form action="/search" method="get" class="input-group new-search-bar" role="search">
      <input type="hidden" name="type" value="article">
      <input type="search" name="q" value="" placeholder="記事を検索する" class="new-search-bar__text-field" aria-label="記事を検索する">
      <span class="new-search-bar__icon">
        <label>
        <input type="submit" style="display: none;">
			<span class="icon icon-search" aria-hidden="true"></span>        
        </label>
      </span>
    </form>
      {% render 'blog-category-menu' %}
    </div>
    
 {% endif %}   
    {% paginate blog.articles by 5 %}

  <div class="grid{% if is_blog %}blog-container{% endif %}" >

    <div class="grid__item large--five-sixths push--large--one-twelfth">

      <header class="section-header text-center">
        <h1>
          {% if current_tags %}
            {{ blog.title | link_to: blog.url }} &mdash; {{ current_tags.first }}
          {% else %}
            {{ blog.title }}
          {% endif %}
          <a href="{{ shop.url }}{{ blog.url }}.atom" class="icon-fallback-text rss-link">
            <span class="icon icon-rss" aria-hidden="true"></span>
            <span class="fallback-text">RSS</span>
          </a>
        </h1>
        <hr class="hr--small">
      </header>

      {% for article in blog.articles %}

        {% assign article_content = article.excerpt_or_content %}

        <article class="article grid small--text-center {% if forloop.first == true %}first{%endif%}">

          {% unless article.image == blank %}
            <div class="grid__item">
              
              <a class="article__featured-image-link" href="{{ article.url }}">
                <noscript>
                  {{ article.image | img_url: '2048x2048' | img_tag: article.title | escape }}
                </noscript>
                <div class="article__featured-image-wrapper" style="padding-top:{{ 1 | divided_by: article.image.aspect_ratio | times: 100}}%;">
                  {% assign img_url = article.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
                  <img class="article__featured-image lazyload"
                    src="{{ article.image | img_url: '300x300' }}"
                    data-src="{{ img_url }}"
                    data-widths="[360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
                    data-aspectratio="{{ article.image.aspect_ratio }}"
                    data-sizes="auto"
                    alt="{{ article.title | escape }}">
                </div>
              </a>
            </div>
          {% endunless %}

          <div class="grid__item large--two-tenths push--large--one-tenth">
            <time datetime="{{ article.published_at | date: '%Y-%m-%dT%H:%M:%SZ' }}" class="date">{{ article.published_at | date: format: 'date' }}</time>
            <hr class="hr--small hr--left small--hide">
          </div>
          <div class="grid__item large--six-tenths push--large--one-tenth">
            <h2 class="h3"><a class="article__heading-link" href="{{ article.url }}">{{ article.title }}</a></h2>
            <div class="rte rte--indented-images">
              {{ article_content | strip_html | truncatewords: 120 }}
            </div>

            <p>
              <a href="{{ article.url }}" class="text-link">{{ 'blogs.article.read_more' | t }} <span class="icon icon-arrow-right" aria-hidden="true"></span></a>
            </p>

            {% if article.tags.size > 0 %}
              <ul class="tags tags--article inline-list">
                {% include 'tags-article' %}
              </ul>
            {% endif %}
          </div>
        </article>

        {% unless forloop.last %}<hr class="hr--clear">{% endunless %}

      {% endfor %}

      {% if paginate.pages > 1 %}
        {% include 'pagination' %}
      {% endif %}

    </div>
   </div>
    
  </div>
{% if is_blog %}
  <div class="blog-sidebar-wrapper">
    <div class="c-pc_only">
      
      <form action="/search" method="get" class="input-group new-search-bar" role="search">
      <input type="hidden" name="type" value="article">
      <input type="search" name="q" value="" placeholder="記事を検索する" class="new-search-bar__text-field" aria-label="記事を検索する">
      <span class="new-search-bar__icon">
        <label>
        <input type="submit" style="display: none;">
			<span class="icon icon-search" aria-hidden="true"></span>         </label>
      </span>
      </form>
      
      {% render 'blog-category-list' %}
      
    </div>
    
    <hr class="c-sp_only dotted-line c-mb--40">
    <hr class="c-pc_only dotted-line c-mb--40 c-mt--30">
    
    
    
  </div>
   		
{% endif %}
</div>

{% endpaginate %}

